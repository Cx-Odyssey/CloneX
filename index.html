<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CX Odyssey: Rise of the Collectors</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Monetag SDK TEMPORARILY DISABLED -->
    <!-- <script src='//libtl.com/sdk.js' data-zone='9891070' data-sdk='show_9891070'></script> -->
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="game-container">
        <div class="stars" id="starfield"></div>

        <!-- Loading Screen -->
        <div class="screen active" id="loadingScreen">
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%;">
                <div class="logo" style="font-size: 48px; margin-bottom: 30px;">CX ODYSSEY</div>
                <div style="font-size: 20px; margin-bottom: 40px; opacity: 0.9;">Loading game...</div>
                <div class="loading"></div>
                <div id="tgInitStatus" style="margin-top: 30px; font-size: 16px; color: var(--primary-gold);">
                    Connecting to backend...
                </div>
            </div>
        </div>

        <!-- Main Galaxy Screen -->
        <div class="screen" id="galaxyScreen">
            <div class="header">
                <div class="logo">CX ODYSSEY</div>
                <div class="resources">
                    <div class="resource">âš¡ <span id="energy">100</span></div>
                    <div class="resource">ğŸ’ <span id="shards">0</span></div>
                    <div class="resource">ğŸ† <span id="gp">0</span></div>
                </div>
            </div>
            
            <div class="tg-user-info" id="tgUserInfo">
                <img class="tg-avatar" id="tgAvatar" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%23FFD700'/%3E%3Ctext x='50' y='65' text-anchor='middle' font-size='40' fill='%23000'%3EğŸ‘¤%3C/text%3E%3C/svg%3E">
                <div>
                    <div id="tgUserName" style="font-weight: 700; font-size: 18px;">Player</div>
                    <div style="font-size: 14px; opacity: 0.8;">Level <span id="tgUserLevel">1</span> Explorer</div>
                </div>
            </div>
            
            <div class="daily-reward" id="dailyReward" style="display: none;">
                <div style="font-size: 20px; margin-bottom: 10px;">ğŸ Daily Login Bonus!</div>
                <div class="streak-counter">Day <span id="streakDay">1</span> Streak</div>
                <div style="font-size: 18px;">+<span id="bonusAmount">100</span> GP Earned!</div>
            </div>

            <div class="galaxy-map">
                <div class="planet planet-1" onclick="selectPlanet('Pyrion', 1)">
                    <div class="planet-info">
                        <div>ğŸ”¥ Pyrion</div>
                        <div>Fire World</div>
                    </div>
                </div>
                <div class="planet planet-2" onclick="selectPlanet('Aqueos', 2)">
                    <div class="planet-info">
                        <div>ğŸŒŠ Aqueos</div>
                        <div>Ocean World</div>
                    </div>
                </div>
                <div class="planet planet-3" onclick="selectPlanet('Voidex', 3)">
                    <div class="planet-info">
                        <div>ğŸŒŒ Voidex</div>
                        <div>Dark Matter</div>
                    </div>
                </div>
                <div class="planet planet-4" onclick="selectPlanet('Verdant', 4)">
                    <div class="planet-info">
                        <div>ğŸŒ¿ Verdant</div>
                        <div>Bio World</div>
                    </div>
                </div>
                <div class="planet planet-5" onclick="selectPlanet('Aurelia', 5)">
                    <div class="planet-info">
                        <div>âœ¨ Aurelia</div>
                        <div>Gold Planet</div>
                    </div>
                </div>
                <div class="planet planet-6" onclick="selectPlanet('Crimson', 6)">
                    <div class="planet-info">
                        <div>âš”ï¸ Crimson</div>
                        <div>War Zone</div>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="action-btn" onclick="checkDailyReward()">ğŸ Daily Login</button>
                <button class="action-btn" onclick="shareGame()">ğŸ“¤ Share Game</button>
            </div>
        </div>

        <!-- Mining Screen -->
        <div class="screen" id="miningScreen">
            <div class="header">
                <div class="logo">MINING: <span id="currentPlanet">Aqueos</span></div>
                <div class="resources">
                    <div class="resource">âš¡ <span id="energyMining">100</span></div>
                    <div class="resource">ğŸ’ <span id="shardsMining">0</span></div>
                </div>
            </div>

            <div class="mining-screen">
                <div class="mining-area" onclick="minePlanet()">
                    <div style="text-align: center; z-index: 2; position: relative;">
                        <div style="font-size: 32px; margin-bottom: 15px;">â›ï¸</div>
                        <div style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">TAP TO MINE</div>
                        <div style="font-size: 14px; opacity: 0.9;">+<span id="mineReward">10</span> Shards</div>
                    </div>
                </div>

                <div style="width: 100%; max-width: 320px;">
                    <div style="margin-bottom: 15px; font-size: 16px; font-weight: 600;">Energy: <span id="energyText">100/100</span></div>
                    <div class="energy-bar">
                        <div class="energy-fill" id="energyFill" style="width: 100%"></div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="action-btn" onclick="simulateWatchAd('energy')" id="adBtn">ğŸ“º Watch Ad (+50 Energy)</button>
                    <button class="action-btn" onclick="battleAliens()">âš”ï¸ Battle Aliens</button>
                    <button class="action-btn" onclick="showScreen('galaxyScreen')">ğŸŒŒ Back to Galaxy</button>
                </div>
            </div>
        </div>

        <!-- Shop Screen -->
        <div class="screen" id="shopScreen">
            <div class="header">
                <div class="logo">SHOP & UPGRADES</div>
                <div class="resources">
                    <div class="resource">ğŸ† <span id="gpShop">0</span></div>
                    <div class="resource">ğŸ’ <span id="shardsShop">0</span></div>
                </div>
            </div>

            <div class="shop-grid">
                <div class="shop-item" onclick="buyUpgrade('speed')">
                    <div>ğŸš€</div>
                    <div style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">Speed Boost</div>
                    <div style="color: var(--primary-gold); font-size: 16px; font-weight: 600;" id="speedCost">500 GP</div>
                    <div style="font-size: 12px; opacity: 0.8; margin-top: 5px;">+25% Mining Speed</div>
                </div>
                <div class="shop-item" onclick="buyUpgrade('damage')">
                    <div>âš”ï¸</div>
                    <div style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">Damage Boost</div>
                    <div style="color: var(--primary-gold); font-size: 16px; font-weight: 600;" id="damageCost">750 GP</div>
                    <div style="font-size: 12px; opacity: 0.8; margin-top: 5px;">+50% Battle Damage</div>
                </div>
                <div class="shop-item" onclick="buyUpgrade('energy')">
                    <div>âš¡</div>
                    <div style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">Energy Tank</div>
                    <div style="color: var(--primary-gold); font-size: 16px; font-weight: 600;" id="energyCost">1000 GP</div>
                    <div style="font-size: 12px; opacity: 0.8; margin-top: 5px;">+50 Max Energy</div>
                </div>
                <div class="shop-item" onclick="buyUpgrade('multiplier')">
                    <div>ğŸ’°</div>
                    <div style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">GP Multiplier</div>
                    <div style="color: var(--primary-gold); font-size: 16px; font-weight: 600;" id="multiplierCost">3000 GP</div>
                    <div style="font-size: 12px; opacity: 0.8; margin-top: 5px;">+100% GP Gain</div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="action-btn" onclick="showScreen('galaxyScreen')">ğŸŒŒ Back to Galaxy</button>
            </div>
        </div>

        <!-- Games Screen -->
        <div class="screen" id="gamesScreen">
            <div class="header">
                <div class="logo">MINI-GAMES</div>
                <div class="resources">
                    <div class="resource">ğŸ† <span id="gpGames">0</span></div>
                    <div class="resource">ğŸ® <span id="gameScore">0</span></div>
                </div>
            </div>

            <div class="shop-grid">
                <div class="shop-item" onclick="playGame('clicker')">
                    <div>ğŸ’</div>
                    <div style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">Crypto Clicker</div>
                    <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px;">Click as fast as you can!</div>
                    <div style="color: var(--success-green); font-weight: 600;">Reward: 200-800 GP</div>
                </div>
                <div class="shop-item" onclick="playGame('dodge')">
                    <div>â˜„ï¸</div>
                    <div style="font-size: 18px; font-weight: 700; margin-bottom: 8px;">Asteroid Dodge</div>
                    <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px;">Survive the field!</div>
                    <div style="color: var(--success-green); font-weight: 600;">Reward: 300-1000 GP</div>
                </div>
            </div>

            <div class="game-area" id="gameArea">
                <h3 style="color: var(--primary-gold); font-size: 24px; margin-bottom: 15px;">Select a game to play!</h3>
                <p style="font-size: 16px; opacity: 0.9;">Earn bonus GP and have fun</p>
            </div>

            <div class="action-buttons">
                <button class="action-btn" onclick="showScreen('galaxyScreen')">ğŸŒŒ Back to Galaxy</button>
            </div>
        </div>

        <!-- Navigation Bar -->
        <div class="nav-bar">
            <button class="nav-btn active" onclick="showScreen('galaxyScreen')">
                <div>ğŸŒŒ</div>
                <div>Galaxy</div>
            </button>
            <button class="nav-btn" onclick="showScreen('miningScreen')">
                <div>â›ï¸</div>
                <div>Mine</div>
            </button>
            <button class="nav-btn" onclick="showScreen('shopScreen')">
                <div>ğŸ›’</div>
                <div>Shop</div>
            </button>
            <button class="nav-btn" onclick="showScreen('gamesScreen')">
                <div>ğŸ®</div>
                <div>Games</div>
            </button>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
